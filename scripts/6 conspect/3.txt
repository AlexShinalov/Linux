сборка с линковкой:
g++ -O3 -flto -o testl sha1_benchmark.cc sha1.cc
тест времени:
time ./testl

ВАЖНО: измените testl на любое другое название 
